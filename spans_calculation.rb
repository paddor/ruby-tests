require 'benchmark'

class Stack
  class Empty < IndexError
  end
  attr_reader :stack

  def initialize
    @stack = []
  end

  def push(obj)
    @stack.unshift(obj)
  end

  def pop
    raise Empty if empty?
    @stack.shift
  end

  def top
    raise Empty if empty?
    @stack.first
  end

  def empty?
    @stack.empty?
  end
end

def spans1(x)
  spans = []
  for i in 0 .. (x.size - 1) # x.size.times do |i|
    s = 1
    while s <= i && x[i - s] <= x[i]
      s += 1
    end
    spans << s
  end
  return spans
end

def spans2(x)
  spans = []
  x.each.with_index do |n,i|
    s = 1
    while s <= i && x[i-s] <= n
      s += 1
    end
    spans << s
  end
  return spans
end

def spans3(x)
  spans = []
  stack = Stack.new
  for i in 0 .. (x.size - 1) # x.size.times do |i|
    while !stack.empty? && x[ stack.top ] <= x[i]
      stack.pop
    end
    if stack.empty?
      spans << i + 1
    else
      spans << i - stack.top
    end
    stack.push(i)
  end
  return spans
end

def spans4(x)
  spans = []
  stack = Stack.new
  x.size.times do |i|
    while !stack.empty? && x[ stack.top ] <= x[i]
      stack.pop
    end
    if stack.empty?
      spans << i + 1
    else
      spans << i - stack.top
    end
    stack.push(i)
  end
  return spans
end

def spans5(x)
  spans = []
  stack = []
  x.size.times do |i|
    while !stack.empty? && x[ stack.first ] <= x[i]
      stack.shift
    end
    if stack.empty?
      spans << i + 1
    else
      spans << i - stack.first
    end
    stack.unshift(i)
  end
  return spans
end

def spans6(x)
  spans = []
  stack = Stack.new
  x.size.times do |i|
    begin
      while x[ stack.top ] <= x[i]
        stack.pop
      end
    rescue Stack::Empty
    end

    if stack.empty?
      spans << i + 1
    else
      spans << i - stack.top
    end
    stack.push(i)
  end
  return spans
end

#def spans7(x)
#  spans = []
#  previous_span = 0
#  x.size.times do |i|
#    if x[i] >= x[i - 1]
#      new_span = previous_span + 1
#    else
#      new_span = 1
#    end
#    spans << new_span
#    previous_span = new_span
#  end
#  return spans
#end

def spans8(x)
  spans = [1]
  stack = Stack.new
  prev_x = x.first
  stack.push([ prev_x, 0 ])

  x[1..-1].each.with_index do |curr_x,i|
    i += 1 # did the first one before this loop
#    puts "#{i}) curr_x = #{curr_x}, stack = #{stack.stack}, spans = #{spans}"
    span = 1

    if curr_x < prev_x
      stack.push([ curr_x, i ])
    else
        biggest_previous_index = nil
        while !stack.empty? && stack.top[0] <= curr_x
          biggest_previous_index = stack.pop[1]
        end
        if biggest_previous_index
          span += spans[biggest_previous_index]
          span += (i - biggest_previous_index) - 1
        end
        stack.push([ curr_x, i ])
    end
    spans << span
    prev_x = curr_x
  end
  return spans
end

def spans9(x)
  spans = [1]
  prev_x = x.first
  stack = [[ prev_x, 0 ]]

  x[1..-1].each.with_index do |curr_x,i|
    i += 1 # did the first one before this loop
#    puts "#{i}) curr_x = #{curr_x}, stack = #{stack.stack}, spans = #{spans}"
    span = 1

    if curr_x >= prev_x
        biggest_previous_index = nil
        while !stack.empty? && stack.last[0] <= curr_x
          biggest_previous_index = stack.pop[1]
        end
        if stack.empty?
          span += i
        else
          if biggest_previous_index
            span += spans[biggest_previous_index] + (i - biggest_previous_index) - 1
          end
        end
    end
    stack << [ curr_x, i ]
    spans << span
    prev_x = curr_x
  end
  return spans
end

def spans10(x)
  spans = []
  stack = []
  x.size.times do |i|
    while !stack.empty? && x[ stack.first ] <= x[i]
      stack.shift
    end
    if stack.empty?
      spans << i + 1
    else
      spans << i - stack.first
    end
    stack.unshift(i)
  end
  return spans
end

S = [
  6, 3, 4, 5, 2,
  1, 1, 2, 5, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  1, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  1, 2, 3, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 7, 7,
  7, 7, 7, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 9,
  10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10,
  10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10,
  11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 1, 2, 1, 2, 3, 6, 1, 1, 1, 2, 4, 5, 6, 6, 7, 7, 7, 8, 9,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
  8, 4, 3, 2, 1, 4, 5, 6, 7, 8, 8, 12, 34, 45, 56, 67, 78, 79,
] * 1
#]
puts "input: #{S.size} elements"
puts S.to_s if S.size < 20
puts

methods = [
  #:spans1, :spans2, :spans3, :spans4,
  :spans5,
  #:spans6,
  #:spans8,
  #:spans9,
  :spans10,
  :spans5,
  :spans10,
]
all_spans = []

Checks = {
  [5] => [1],
  [6,5] => [1,1],
  [5,6] => [1,2],
  [5,5] => [1,2],
  [6,5,6] => [1,1,3],
  [5,6,5] => [1,2,1],
  [5,6,6,5] => [1,2,3,1],
  [5,4,3] => [1,1,1],
  [5,5,5] => [1,2,3],
  [5,4,4] => [1,1,2],
  [5,4,8,7] => [1,1,3,1],
  [5,7,2,2,3,6] => [1,2,1,2,3,4],
}
methods.each do |method|
  puts "\n######################    verifying #{method} ######################"

  Checks.each do |input,should|
    puts "testing input: #{input}"
    is = self.send(method, input)

    if is == should
      puts "PASSED"
    else
      puts "FAILED"
      puts "expected: #{should}"
      puts "     was: #{is}"
      exit
    end
    puts
  end

  spans = self.send(method, S)
  #p spans
  all_spans << spans
end
if all_spans.uniq.size <= 1
  puts "All implementations work correctly."
  sleep 2
else
  raise "Some implementations don't work correctly."
end



Benchmark.bmbm do |bm|
  n = 1000
  methods.each do |method|
    bm.report(method) do
      n.times { self.send(method, S) }
    end
  end
end
